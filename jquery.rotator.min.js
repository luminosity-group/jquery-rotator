(function(a){a.fn.rotator=function(d){var b,j,h,g,f,e;b=this;j={interval:4000,randomize:false,fadeInTime:500,fadeOutTime:1000,stopOnBlur:false};h=false;g=a.extend(true,{},j,d);a("li",b).each(function(){a(this).hide()});if(g.randomize){f=a("li",b).length;e=Math.floor(Math.random()*f)+1;a("li:nth-child("+e+")",b).show().addClass("active")}else{a("li",b).first().show().addClass("active")}if(g.stopOnBlur){a(window).blur(function(){h=true}).focus(function(){h=false})}function c(){var i;if(!g.stopOnBlur||(g.stopOnBlur&&!h)){i=a("li.active",b);a("li",b).removeClass("active");if(a(i).next().length>0){a(i).fadeOut(g.fadeInTime).next().fadeIn(g.fadeOutTime).addClass("active")}else{a(i).fadeOut(g.fadetime);a("li:first-child",b).fadeIn(g.fadeInTime).addClass("active")}}setTimeout(c,g.interval)}setTimeout(c,g.interval)}}(jQuery));